<!-- templates/dashboard/index.html -->
{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <h1>Dashboard</h1>
    
    <h2>Events</h2>
    <ul>
        {% if events %}
            {% for event in events %}
                <li>{{ event.timestamp }} - {{ event.name }}: {{ event.description }}</li>
            {% endfor %}
        {% else %}
            <li>No events found.</li>
        {% endif %}
    </ul>
    
    <h2>Video Clips</h2>
    <ul>
        {% if video_clips %}
            {% for clip in video_clips %}
                <li>{{ clip.created_at }} - Clip for event: {{ clip.event.name }}
                    <br>
                    <video width="320" height="240" controls>
                        <source src="{{ clip.file.url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </li>
            {% endfor %}
        {% else %}
            <li>No video clips found.</li>
        {% endif %}
    </ul>
{% endblock %}
